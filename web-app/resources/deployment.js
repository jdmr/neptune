define.deployment("deployment.BaseClasses",function(e){function t(){return window.editorModel&&window.editorModel.runningExperiments?editorModel.runningExperiments:window.rendererModel&&window.rendererModel.runningExperiments?rendererModel.runningExperiments:{}}function n(e){var t=document.cookie.split(";"),n=e;for(var r=0;r<t.length;r++){var i=t[r];while(i.charAt(0)===" ")i=i.substring(1,i.length);if(i.indexOf(n)===0)return i=i.substring(n.length,i.length),i.replace("=","")}return""}function r(e,t){var n=t?"i":"",r=new RegExp("[?&]"+e+"=([^&]+)",n),i=window.location.search.match(r);return i?i[1]:undefined}this.define.resource("runningExperiments",t());var i="http://m.wix.com";if(window.siteHeader&&window.siteHeader.creationSource)switch(window.siteHeader.creationSource.toLocaleLowerCase()){case"web":i="http://www.wix.com";break;case"standalone":i="http://mobile.wix.com"}var s="";window.googleAnalytics&&(s=window.googleAnalytics.length===0?"":window.googleAnalytics);var o=!window.publicModel||!window.publicModel.suppressTrackingCookies;e.atPhase(PHASES.BOOTSTRAP,function(e){console.log("deploy constants"),e.copyNamespace("Constants","Const");var t={errors:window.wixErrors,events:window.wixEvents,wixAnalytics:window.viewMode==="editor"?["UA-2117194-45"]:[],userAnalytics:["UA-2117194-15",s],enableGoogleAnalytics:o,floggerServerURL:window.serviceTopology&&window.serviceTopology.biServerUrl||"http://flogger.wixpress.com/",majorVer:2,version:(window.viewMode!="editor"?"VR":"ER")+window.client_version,siteId:window.siteId?siteId:"",userId:window.siteHeader&&window.siteHeader.userId||"00000000-0000-0000-0000-000000000000",userType:n("userType"),userLanguage:n("wixLanguage")||"unknown",wixGlobalSessionId:n("_wix_browser_sess"),editingSessionId:r("editorSessionId",!0),computerId:n("_wixCIDX")||"00000000-0000-0000-0000-000000000000",creationSource:i,wixAppId:42,sendPageTrackToWix:window.viewMode=="editor",sendPageTrackToUser:window.viewMode=="site",debugMode:window["debugMode"]=="debug",onEvent:function(e,t){},onError:function(e,t,n,r){(window["debugMode"]=="debug"||window["debugMode"]=="unit_test")&&window.console&&window.console.error&&console.error(e.desc,e,t,n,r)}};e.createBootstrapClassInstance("LOG","bootstrap.bi.Logger",[t]),e.createBootstrapClassInstance("BI","bootstrap.bi.BI",[]);switch(window.viewMode){case"editor":var u=0,a=0;window&&window.screen&&window.screen.width&&(u=window.screen.width),window&&window.screen&&window.screen.height&&(a=window.screen.height);var f={i1:u,c1:a};LOG.reportEvent(wixEvents.EDITOR_DOM_LOADED,f);break;case"site":LOG.reportEvent(wixEvents.SITE_DOM_LOADED);break;case"preview":}}),e.atPhase(PHASES.CLASSMANAGER,function(e){e.createBootstrapClassInstance("W.Utils","bootstrap.utils.Utils",[]),e.publishBootstrapClass("WClass","bootstrap.bootstrap.WClass"),e.createBootstrapClassInstance("W.Experiments","bootstrap.managers.experiments.Experiments",[]),e.createBootstrapClassInstance("W.Classes","bootstrap.managers.classmanager.ClassManager",[]);var t=e.async(10,"Waiting for W.Classes");this.resource.getResourceValue("W.Classes",function(e){e.getClass("bootstrap.utils.Tween",function(e){define.utils("Tween:this",function(){return{Tween:e}})}),t()})}),e.atPhase(PHASES.LIBS,function(e){e.publishBootstrapClass("Element","bootstrap.extendnative.Element"),e.publishBootstrapClass("Array","bootstrap.extendnative.Array"),e.publishBootstrapClass("Async","bootstrap.utils.async.Async")}),e.atPhase(PHASES.UTILS,function(e){e.createClassInstance("W.Queue","bootstrap.utils.Queue"),e.createClassInstance("W.Commands","bootstrap.managers.commands.Commands"),e.createClassInstance("W.Events","bootstrap.managers.events.EventsManager"),e.createClassInstance("W.CommandsNew","bootstrap.managers.events.CommandsManager"),e.createClassInstance("W.InputBindings","bootstrap.managers.InputBindings");var t=e.async(10,"Waiting for W.Classes and bootstrap.utils.Hash to be defined");this.resource.getResourceValue("W.Classes",function(e){e.getClass("bootstrap.utils.Hash",function(e){define.utils("hash:this",function(){return t(),{hash:new e}})})})}),e.atPhase(PHASES.POST_DEPLOY,function(e){var t=e.async(10,"Waiting for W.Classes");this.resource.getResourceValue("W.Classes",function(e){e.loadMissingClasses(),t()})})});